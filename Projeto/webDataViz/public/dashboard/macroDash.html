<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visão Geral - IceBlood</title>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.0.2/dist/chartjs-plugin-annotation.min.js"></script>

    <link rel="shortcut icon" href="../assets/img/dashboard/logo.png" type="image/x-icon">
    <link rel="stylesheet" href=".././css/macroDash.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <div id="header-left">
            <img src=".././assets/imgs/logo.png" alt="Logo do IceBlood">
            <h1>IceBlood</h1>
            <nav>
                <ul>
                    <li><a href="../dashboard/macroDash.html" class="active">Visão Geral</a></li>
                    <li><a href=".././dashboard/historico.html">Histórico</a></li>
                    <li><a href=".././index.html">Sair</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <main>
        <section>
            <h1>Câmaras Frias</h1>
            <p>Selecione uma câmara para ver o dashboard detalhado ou veja o comparativo abaixo.</p>

            <div class="container-camaras">
                <a href="/camara1.html">
                    <p>2 ºC</p>
                    <p>Camara 1</p>
                </a>
                <a href="/camara2.html">
                    <p>4 ºC</p>
                    <p>Camara 2</p>
                </a>
            </div>

            <h2>Comparativo de Temperaturas</h2> 
            
            <div class="graficos-container"> 
                
                <div class="grafico-item"> 
                    <h3>Histórico de Temperaturas (Por Hora)</h3>
                    <canvas id="temperatureChart"></canvas> 
                </div>
                
                <div class="grafico-item"> 
                    <h3>Máximas Diárias (Última Semana)</h3>
                    <canvas id="horaryChart"></canvas>
                </div>
                
            </div>
        </section>
    </main>

    <script>
        // mockei os dados dentro de uma variavel (carlos)
        var mockData = {
            historical: {
                labels: ['04H', '05H', '06H', '07H', '08H', '09H'],
                camara1: [4.2, 7.5, 4.3, 4.1, 8.0, 4.6],
                camara2: [3.8, 3.9, 4.0, 7.1, 4.1, 7.2]
            },
            maxDaily: {
                labels: ['Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb', 'Dom'],
                camara1: [4.8, 4.5, 5.1, 4.9, 4.7, 5.0, 4.6],
                camara2: [4.6, 4.3, 4.9, 4.7, 4.5, 4.8, 4.4]
            }
        };
        const ctxComparison = document.getElementById('temperatureChart').getContext('2d');

        new Chart(ctxComparison, {
            type: 'line',
            data: {
                labels: mockData.historical.labels,
                datasets: [{
                    label: 'Câmara 1',
                    data: mockData.historical.camara1, //(chamo a variavel para ver os dados)
                    borderColor: '#B9030F',
                    tension: 0.3,
                    fill: false,
                }, {
                    label: 'Câmara 2',
                    data: mockData.historical.camara2,
                    borderColor: '#70160E',
                    tension: 0.3,
                    fill: false,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false, 
            }
        });

        const ctxMaxTemp = document.getElementById('horaryChart').getContext('2d');

        new Chart(ctxMaxTemp, {
            type: 'bar',
            data: {
                labels: mockData.maxDaily.labels,
                datasets: [{
                    label: 'Câmara 1',
                    data: mockData.maxDaily.camara1,
                    backgroundColor: '#B9030F',
                }, {
                    label: 'Câmara 2',
                    data: mockData.maxDaily.camara2,
                    backgroundColor: '#70160E',
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,// o css controla a altura (carlos)
            }
        });
    </script>
</body>

</html>